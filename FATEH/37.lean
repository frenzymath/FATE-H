import Mathlib

open Polynomial IntermediateField AdjoinRoot

/-- Let $L/K$ be a Galois extension of fields such that $\mathrm{Gal}(L/K)$ is cyclic of order $n$,
generated by $\sigma$. Write $n = ab$ with $\gcd(a,b) =1$. Let $F_1$ be the fixed field of
$\sigma^a$ and $F_2$ be the fixed field of $\sigma^b$. Suppose that $F_1 = K(\alpha)$ and
$F_2 = K(\beta)$.  Prove that $L = K(\alpha+\beta)$. -/
theorem adjoin_add_eq_top_of_fixedField_zpowers {K L : Type} [Field K]
    [Field L] [Algebra K L] [IsGalois K L] (n a b : ℕ)
    (σ : L ≃ₐ[K] L) (hσ : orderOf σ = n) (cycle : Subgroup.zpowers σ = ⊤) (hn : n > 0)
    (hn' : n = a * b) (hab : Nat.Coprime a b) {α β : L}
    (hα : K⟮α⟯ = IntermediateField.fixedField (Subgroup.zpowers (σ ^ a)))
    (hβ : K⟮β⟯ = IntermediateField.fixedField (Subgroup.zpowers (σ ^ b))) : K⟮α + β⟯ = ⊤ := by
  sorry
